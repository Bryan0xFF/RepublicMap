function RepublicMap (id, hoverCallback, clickCallback)
{
	this.svgId = id;
	this.hoverCallback = hoverCallback;
	this.clickCallback = clickCallback;

	var dom = `
		<g
			transform="translate(0,-197.00001)">
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 31.596409,197.17122 v 0 l 45.153138,0.0763 0.445957,46.36247 -12.310602,-1.47121 -20.021255,-2.39234 -0.111538,-8.7241 -4.68253,-1.24617 -20.179575,-19.31785 h 11.037434 z"
			id="__republicMapDepPeten"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 30.704496,239.62011 -17.89402,0.0632 -9.9225417,15.9527 1.4493599,0.25097 0.3344687,3.11563 1.3936157,0.12049 3.6233994,-2.18087 3.233189,0.25208 3.288933,3.4898 1.170634,0.9346 h 1.951062 l 3.567657,-1.74481 3.679143,-0.99688 -4.292336,-5.54611 z"
			id="__republicMapDepHuehue"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 30.704496,239.62011 -8.417436,13.70936 4.292336,5.54615 -3.679146,0.9969 4.682549,10.5313 2.898719,-2.74199 9.699593,0.87254 -6.299172,-6.73026 0.111499,-2.11867 8.138686,0.87241 1.282133,-2.11855 -5.741673,-1.99406 0.167251,-1.43336 2.731481,-2.1809 -5.184222,-5.42141 1.505106,-5.04756 3.456165,-1.68259 2.675773,1.12175 1.839564,-2.05627 z"
			id="__republicMapDepQuiche"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 30.481518,267.66183 -2.898719,2.74199 1.114894,-0.25134 0.1115,2.99123 -0.836171,4.0507 -0.557446,0.93456 0.891915,0.62314 v 1.43319 l -0.780425,0.87236 0.780425,-0.87236 1.365745,-0.62302 0.39021,0.56075 0.864041,-0.34128 0.362348,0.87228 2.090422,-2.30563 0.195086,-1.24628 2.397017,-2.58583 0.473832,-1.65165 0.529573,-0.99656 1.477272,-2.11888 1.728086,-1.21522 z"
			id="__republicMapDepChimal"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 59.422434,268.83305 -2.838045,1.93926 -1.773792,0.1288 -1.103672,1.63018 -1.064278,-0.30839 -2.167964,1.45456 -1.458061,1.58403 -0.529613,2.30567 0.668977,0.5296 3.121697,-0.74796 0.08368,0.59233 2.090381,1.65101 1.365744,-0.0933 1.114924,-1.09058 1.64446,0.90381 0.08368,-0.96615 1.978916,-1.18371 0.641097,0.59193 2.174002,-0.87246 -0.05575,-0.77886 -0.390195,-0.43655 1.114894,-2.61704 -0.390211,-0.62296 -0.139345,-1.40247 -1.37274,-0.0801 -1.813222,-0.12881 z"
			id="__republicMapDepJalapa"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 40.181111,268.53437 -1.728093,1.21536 -1.477253,2.11882 v 0 l 2.424883,0.49816 0.1115,0.90371 0.752584,0.96573 -0.780458,4.23761 0.195129,1.27731 1.059139,0.37567 0.362365,2.89778 0.668968,0.68548 2.870841,-1.46438 -0.195129,-1.71347 2.006809,-2.95992 0.529562,0.56081 1.505091,-0.56081 0.52961,-2.30566 1.458066,-1.58423 -3.311067,-1.98288 0.07885,-1.76242 -1.576704,-0.83747 -0.118298,-0.74888 -0.551875,-0.35375 -3.58694,1.05755 z"
			id="__republicMapDepGuate"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 36.975765,271.86855 -0.529575,0.9965 -0.47383,1.65169 -2.397019,2.58579 -0.195105,1.24618 0.836171,0.43672 0.473832,1.15234 0.613186,0.28421 1.142765,-1.18371 0.752553,-0.25208 0.02788,-0.2842 0.752552,0.74792 1.505112,-0.77883 0.780462,-4.23761 -0.752595,-0.96568 -0.111499,-0.90365 z"
			id="__republicMapDepSacat"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 46.452351,277.57016 -2.006799,2.95982 0.195129,1.71357 -2.870837,1.46451 v 0 l -1.00344,0.90356 0.668964,0.34089 1.170624,-0.28422 -0.278765,0.99693 -1.170636,0.3409 0.473848,0.74798 -0.891938,1.33942 -0.641034,0.12089 -0.111499,3.58271 9.615916,3.33417 0.111538,-1.80717 -1.588724,-2.46133 0.418104,-1.2777 0.780462,-0.21805 1.254239,0.87215 1.059122,0.49842 1.532986,-1.7134 0.696834,-0.0632 0.557414,-1.49511 -0.223021,-0.18905 0.05575,-1.46448 -3.679119,-1.99422 1.477242,-2.14993 0.975511,-0.59158 0.752568,0.31142 -0.08368,-0.49846 0.752533,-1.30875 -2.090373,-1.65149 -0.08368,-0.59174 -3.121697,0.74743 -0.668972,-0.52971 -1.5051,0.56087 z"
			id="__republicMapDepSantaRosa"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 28.30748,280.1872 -0.780424,0.87261 -0.501704,2.36811 -3.400421,-0.37605 -0.222963,-0.56077 -1.059147,0.56077 -0.668935,-0.74793 0.278715,-1.5577 -1.895316,0.62321 0.167249,1.43303 -0.61319,-0.43596 -0.501703,0.18634 0.668938,1.74475 -2.174043,4.79829 6.661485,2.74164 15.720013,-0.0303 0.111499,-3.58344 0.641016,-0.12089 0.891961,-1.33992 -0.473849,-0.74809 1.170632,-0.34089 0.278764,-0.99692 -1.170616,0.28419 -0.668967,-0.34127 1.003444,-0.9036 -0.668972,-0.68528 -0.362363,-2.89755 -1.059145,-0.37603 -0.195129,-1.2775 -1.505121,0.77864 -0.752552,-0.7474 -0.02788,0.28421 -0.752554,0.24869 -1.142764,1.18369 -0.613187,-0.2842 -0.473833,-1.15259 -0.836169,-0.43649 -2.090422,2.3058 -0.362345,-0.87271 -0.864041,0.34242 -0.390212,-0.5607 z"
			id="__republicMapDepEscuin"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 54.451687,279.59514 -0.752525,1.30885 0.08368,0.4985 -0.752566,-0.31142 -0.975508,0.59206 -1.477242,2.14963 3.679113,1.99398 0.16723,1.65158 -0.557399,1.49591 -0.696842,0.0632 -1.532985,1.71385 -2.313355,-1.37135 -0.780469,0.21845 -0.418103,1.27769 1.588727,2.46133 -0.111519,1.80716 3.288946,1.62027 0.250911,-0.87221 -0.585297,-0.68564 0.111538,-0.8722 2.201914,-1.86979 -0.02796,-0.80977 5.54658,-3.14719 1.644463,0.9659 2.313435,-4.17523 3.233194,-0.623 -1.728105,-2.5238 -0.02796,-0.56087 2.313377,-1.27749 -0.473793,-0.96574 0.50167,-0.34126 -0.529547,-0.90369 0.223018,-0.68539 -2.45278,-0.31142 -0.947626,-1.18395 -1.059187,0.18789 0.05575,0.77918 -2.174008,0.8724 -0.6411,-0.59222 -1.978906,1.1838 -0.08368,0.96612 -1.644452,-0.90361 -1.114924,1.09069 z"
			id="__republicMapDepJutiapa"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.32957754px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 69.5421,267.64226 -1.574415,1.54 -1.692483,-0.088 -2.597793,-1.10001 -1.456332,2.94804 1.370737,0.0801 0.139192,1.40043 0.389642,0.62181 -1.113276,2.61361 0.389624,0.43561 1.05763,-0.18828 0.946263,1.18218 2.449223,0.31104 -0.22268,0.68441 0.528778,0.90246 -0.500942,0.34014 0.473101,0.96428 0.66802,-0.40366 2.978023,-0.0632 -0.08348,-1.05769 0.862778,-0.43607 2.1709,-2.42651 1.475099,0.21805 0.640142,-0.65379 -0.22264,-1.27535 0.584449,-1.30661 -0.890631,-0.62251 -1.530738,-3.14227 1.138166,-1.43657 -1.102073,-0.96826 -1.377612,1.49617 -0.629775,-0.66 -0.983997,0.57212 z"
			id="__republicMapDepChiquimula"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 44.863644,239.7449 -1.839569,2.05627 -2.675778,-1.12175 -3.456153,1.68259 -1.505106,5.04756 5.184234,5.42141 -2.731469,2.1809 -0.167249,1.43336 5.741711,1.99406 4.849768,2.05643 1.003441,-1.99406 8.19442,0.49844 -1.00338,2.92901 9.086341,-0.37642 -1.505103,-2.92885 0.16723,-2.99085 1.783838,-1.80737 -2.341304,-1.8695 8.250218,-8.91106 z"
			id="__republicMapDepAltaVerapaz"/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 77.195504,243.60819 -5.295741,-0.5607 -8.250212,8.91106 2.341304,1.86941 -1.783841,1.80726 -0.167229,2.99096 1.5051,2.92893 9.253617,-3.17817 1.226368,0.62317 0.278803,1.62029 -1.226362,0.56093 1.393611,2.9908 13.991901,-8.59923 9.253595,-7.4155 -9.866813,-6.16938 0.334509,1.12166 3.06597,2.18114 -0.39023,0.43612 -1.560847,-0.74775 -0.668917,3.67659 -1.505096,0.18827 0.613166,-1.12148 z"
			id="__republicMapDepIza"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 2.8879343,255.63522 -2.39701855,3.67624 3.95786745,4.79838 -1.003403,1.3711 -1.1706366,0.0627 -0.8919141,3.86367 0.8919141,3.98808 -2.06255106,3.92576 1.56084946,1.18412 1.1706368,-0.62311 2.6757416,-0.68531 -3.177443,-2.3683 2.6199971,-2.05614 5.6859505,-0.68563 1.505104,-4.29953 1.393617,-0.31143 -0.390213,-4.48654 2.954465,-2.30573 -3.288932,-3.48975 -3.2331892,-0.25094 -3.6233994,2.18087 -1.3936156,-0.12089 -0.3344727,-3.1155 z"
			id="__republicMapDepSanMarcos"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 16.210898,260.68269 -2.954465,2.30585 0.390213,4.48629 -1.393617,0.31141 -1.505104,4.29948 -5.6859505,0.68579 -2.6199971,2.05609 3.177443,2.3682 2.6757404,0.37567 2.0068072,-1.55814 1.67234,-3.17829 1.616592,-0.87228 -0.222963,1.4959 1.616594,0.25058 3.400423,-1.49545 1.895315,-2.18126 -1.393615,-2.30569 -0.724679,0.31142 -1.003403,-1.9317 0.222963,-4.48682 z"
			id="__republicMapDepQuetzaltenango"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 22.90025,259.87252 -3.567656,1.74477 h -1.951061 l -0.222963,4.48676 1.003403,1.93162 0.72468,-0.3114 1.393613,2.30562 2.118296,-1.55777 0.278716,0.93463 h 2.397017 l 1.282128,-1.93178 z"
			id="__republicMapDepToto"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 43.414259,258.4393 -1.282134,2.11855 -8.1387,-0.87241 -0.111519,2.11867 6.299192,6.73026 1.227592,0.51909 3.58695,-1.05753 0.55186,0.35222 0.118297,0.74911 2.246821,-0.30839 0.630638,-1.89474 7.915291,-4.9652 1.00337,-2.929 -8.194413,-0.49841 -1.00344,1.99409 z"
			id="__republicMapDepBajaVerapaz"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 56.458511,261.92912 -7.915288,4.96524 -0.630638,1.89474 -2.246818,0.30839 v 0 l 1.576694,0.83738 -0.07885,1.76236 3.311059,1.98322 0.67008,-0.66124 1.497883,-0.79324 1.064274,0.30839 1.103676,-1.63018 1.773792,-0.12881 2.838045,-1.93908 1.970895,-0.92532 -2.286229,-2.776 1.813184,-0.12881 -2.365011,-3.12855 z"
			id="__republicMapDepElProgreso"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 58.555272,261.87126 2.365012,3.12846 -1.813181,0.12881 2.286226,2.77624 -1.970895,0.92507 0.985421,1.98305 1.813222,0.12919 1.45844,-2.95226 2.601557,1.10163 1.694938,0.0885 1.576693,-1.54223 2.286222,0.48466 0.985417,-0.57294 0.63069,0.66096 1.379611,-1.49831 1.103665,0.96959 0.473032,-1.4099 -0.70952,-0.6172 0.769014,-1.4882 -1.393613,-2.99093 1.226366,-0.56094 -0.278803,-1.62031 -1.226369,-0.62322 -9.253621,3.17829 z"
			id="__republicMapDepZacapa"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 1.773042,278.50471 12.398231,8.79106 0.834118,-3.23459 0.473008,-1.80403 0.54549,-2.18779 -0.709512,-1.05731 1.18252,-4.80291 1.888041,-1.998 -3.400423,1.49538 -1.616594,-0.25094 0.222963,-1.49591 -1.616591,0.87234 -1.672341,3.17813 -2.0068069,1.55813 -2.6757409,-0.37454 z"
			id="__republicMapDepReu"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 14.171273,287.29577 3.433238,1.80254 2.174043,-4.79827 -0.668938,-1.7447 0.501704,-0.18557 0.613189,0.43589 -0.167249,-1.43311 1.895316,-0.62311 -0.278715,1.55777 0.668935,0.74785 1.059149,-0.56075 0.222971,0.56075 3.400419,0.37605 0.501703,-2.36806 0.780424,-0.87269 v -1.4331 l -0.891917,-0.62286 0.557449,-0.93487 -2.062551,-1.18415 -1.226382,0.81014 -1.44936,-2.24323 -1.895318,-0.68572 -0.501701,1.37125 -1.839573,-0.62352 0.613192,-1.55781 -1.22638,-0.87222 -1.888041,1.99806 -1.182521,4.80292 0.709513,1.05737 z"
			id="__republicMapDepSuchi"
			/>
			<path
			style="fill:none;stroke:#000000;stroke-width:0.33005497px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
			d="m 26.356416,267.47483 -1.282125,1.93195 h -2.397019 l -0.278714,-0.93463 -4.013612,3.73899 1.22638,0.87221 -0.61319,1.55765 1.839572,0.62359 0.501702,-1.37138 1.895316,0.68567 1.44936,2.24341 1.226382,-0.81021 2.062551,1.18418 0.836171,-4.05057 -0.1115,-2.99134 -1.114893,0.24942 v 0 z"
			id="__republicMapDepSolola"
			/>
		</g>`;

	$ ('#' + id).html (dom);

	for (var idx = 0; idx < 4; idx++)
	{
		$ ('#label' + idx).hide ();
		$ ('#dep' + idx + 'out').hide ();
		registerMapHandlers (this, idx);
	}
}

RepublicMap.prototype.enterPolygon = function (which)
{
	$ ('#dep' + which + 'out').show ();
	$ ('#label' + which).show ();
	for (var idx = 0; idx < 4; idx++)
	{
		if (idx == which) continue;
		$ ('#label' + idx).hide ();
		$ ('#dep' + idx + 'out').hide ();
	}
	this.hoverCallback (which);
}

RepublicMap.prototype.clickPolygon = function (which)
{
	$ ('#dep' + which + 'out').show ();
	$ ('#label' + which).show ();
	for (var idx = 0; idx < 4; idx++)
	{
		if (idx == which) continue;
		$ ('#label' + idx).hide ();
		$ ('#dep' + idx + 'out').hide ();
	}
	this.clickCallback (which);
}

function registerMapHandlers (map, which)
{
	$ ('#dep' + which).mouseenter (function ()
	{
		map.enterPolygon (which);
	} );
	$ ('#dep' + which + 'out').click (function ()
	{
		map.clickPolygon (which);
	} );
}
